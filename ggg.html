<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ï–ì–≠ –ø–æ –æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏—é: –°–µ–Ω—Ç—è–±—Ä—å-–ú–∞–π</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #2a5298;
        }

        h1 {
            color: #1e3c72;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: #f0f7ff;
            padding: 12px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            border: 2px solid #d1e3ff;
        }

        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #1e3c72;
        }

        .stat-label {
            color: #555;
            font-size: 0.85rem;
        }

        .calendar-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 25px 0;
            padding: 15px;
            background: #f0f7ff;
            border-radius: 12px;
            flex-wrap: wrap;
            gap: 15px;
            border: 2px solid #d1e3ff;
        }

        .month-selector {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .month-btn {
            background: #1e3c72;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .month-btn:hover {
            background: #2a5298;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 60, 114, 0.3);
        }

        .current-month {
            font-size: 1.4rem;
            font-weight: bold;
            color: #1e3c72;
            min-width: 180px;
            text-align: center;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 12px;
            margin-bottom: 40px;
        }

        .week-header {
            background: #2a5298;
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: bold;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .day {
            background: white;
            border-radius: 10px;
            padding: 15px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border: 2px solid #e8f0fe;
            position: relative;
            min-height: 110px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .day:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(42, 82, 152, 0.2);
            border-color: #2a5298;
            background: #f8fbff;
        }

        .day-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1e3c72;
            margin-bottom: 5px;
        }

        .day-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .week-number {
            font-size: 0.8rem;
            color: #2a5298;
            font-weight: 600;
            margin: 3px 0;
            background: #e8f0fe;
            padding: 2px 6px;
            border-radius: 10px;
            display: inline-block;
        }

        .topic-preview {
            font-size: 0.75rem;
            color: #555;
            line-height: 1.3;
            margin-top: 5px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .task-type {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-top: 5px;
        }

        .theory {
            background: #e3f2fd;
            color: #1565c0;
        }

        .test {
            background: #f3e5f5;
            color: #7b1fa2;
        }

        .practice {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .completed {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border-color: #28a745;
        }

        .today {
            border: 3px solid #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.3);
            background: #fff9e6;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
            padding: 20px;
        }

        .modal-content {
            background: white;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            border-radius: 15px;
            overflow: hidden;
            animation: slideUp 0.4s;
            border: 3px solid #2a5298;
        }

        .modal-header {
            background: linear-gradient(90deg, #1e3c72, #2a5298);
            color: white;
            padding: 20px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            right: 15px;
            top: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 25px;
            overflow-y: auto;
            max-height: 60vh;
        }

        .resources {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .resource-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #2a5298;
            transition: transform 0.3s;
            border: 1px solid #e9ecef;
        }

        .resource-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .resource-title {
            color: #1e3c72;
            font-size: 1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin: 30px 0;
            overflow: hidden;
            border: 1px solid #ddd;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #1e3c72, #4a90e2);
            width: 0%;
            border-radius: 5px;
            transition: width 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @media (max-width: 1200px) {
            .calendar {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .calendar {
                grid-template-columns: repeat(2, 1fr);
            }

            .calendar-controls {
                flex-direction: column;
            }

            .stats {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .modal-content {
                width: 95%;
                padding: 10px;
            }
        }

        .legend {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            color: #555;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }

        .month-stats {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            justify-content: center;
        }

        .month-stat {
            background: #f8f9fa;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 0.9rem;
            border: 1px solid #dee2e6;
        }

        .section-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-right: 5px;
            margin-bottom: 3px;
        }

        .section-1 { background: #e3f2fd; color: #1565c0; }
        .section-2 { background: #f3e5f5; color: #7b1fa2; }
        .section-3 { background: #e8f5e9; color: #2e7d32; }
        .section-4 { background: #fff3cd; color: #856404; }
        .section-5 { background: #f8d7da; color: #721c24; }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .controls select {
            padding: 8px 15px;
            border-radius: 8px;
            border: 2px solid #d1e3ff;
            background: white;
            color: #1e3c72;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ï–ì–≠ –ø–æ –æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏—é</h1>
            <div class="subtitle">–°–∏—Å—Ç–µ–º–Ω—ã–π –ø–ª–∞–Ω —Å —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ –º–∞–π: —Ç–µ–æ—Ä–∏—è + —Ç–µ—Å—Ç—ã + –ø—Ä–∞–∫—Ç–∏–∫–∞</div>

            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number">38</div>
                    <div class="stat-label">–ù–µ–¥–µ–ª—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">90</div>
                    <div class="stat-label">–¢–µ–º –ø–æ –∫–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">114</div>
                    <div class="stat-label">–¢–µ—Å—Ç–æ–≤—ã—Ö —Ä–∞–±–æ—Ç—ã</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">273</div>
                    <div class="stat-label">–î–Ω–µ–π –¥–æ —ç–∫–∑–∞–º–µ–Ω–∞</div>
                </div>
            </div>
        </header>

        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>

        <div class="calendar-controls">
            <div class="month-selector">
                <button class="month-btn" id="prev-month">‚Üê –ù–∞–∑–∞–¥</button>
                <div class="current-month" id="current-month">–°–µ–Ω—Ç—è–±—Ä—å</div>
                <button class="month-btn" id="next-month">–í–ø–µ—Ä—ë–¥ ‚Üí</button>
            </div>

            <div class="controls">
                <select id="section-filter">
                    <option value="all">–í—Å–µ —Ä–∞–∑–¥–µ–ª—ã</option>
                    <option value="1">–ß–µ–ª–æ–≤–µ–∫ –∏ –æ–±—â–µ—Å—Ç–≤–æ</option>
                    <option value="2">–≠–∫–æ–Ω–æ–º–∏–∫–∞</option>
                    <option value="3">–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ñ–µ—Ä–∞</option>
                    <option value="4">–ü–æ–ª–∏—Ç–∏–∫–∞</option>
                    <option value="5">–ü—Ä–∞–≤–æ</option>
                </select>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #e3f2fd;"></div>
                    <span>–¢–µ–æ—Ä–∏—è</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f3e5f5;"></div>
                    <span>–¢–µ—Å—Ç—ã</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e8f5e9;"></div>
                    <span>–ü—Ä–∞–∫—Ç–∏–∫–∞</span>
                </div>
            </div>
        </div>

        <div class="month-stats" id="month-stats">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ—Å—è—Ü–∞ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è -->
        </div>

        <div class="calendar" id="calendar">
            <!-- –ù–µ–¥–µ–ª–∏ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>

        <div style="text-align: center; margin-top: 30px; color: #666; font-size: 0.9rem;">
            <p>üìÖ –£—á–µ–±–Ω—ã–π –≥–æ–¥: —Å–µ–Ω—Ç—è–±—Ä—å 2024 - –º–∞–π 2025 | üéØ –¶–µ–ª—å: —Å–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ï–ì–≠</p>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ -->
    <div class="modal" id="week-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">–ù–µ–¥–µ–ª—è 1: –ß–µ–ª–æ–≤–µ–∫ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç–≤–æ–ª—é—Ü–∏–∏</h2>
                <button class="close-modal" id="close-modal">√ó</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // –í—Å–µ —Ç–µ–º—ã –∏–∑ –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞ (90 —Ç–µ–º)
        const topics = [
            // –†–∞–∑–¥–µ–ª 1: –ß–µ–ª–æ–≤–µ–∫ –∏ –æ–±—â–µ—Å—Ç–≤–æ (16 —Ç–µ–º)
            {id: 1.1, title: "–ß–µ–ª–æ–≤–µ–∫ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –∏ —Å–æ—Ü–∏–æ–∫—É–ª—å—Ç—É—Ä–Ω–æ–π —ç–≤–æ–ª—é—Ü–∏–∏", section: 1},
            {id: 1.2, title: "–õ–∏—á–Ω–æ—Å—Ç—å –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –æ–±—â–µ—Å—Ç–≤–µ", section: 1},
            {id: 1.3, title: "–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã", section: 1},
            {id: 1.4, title: "–ú–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏–µ, –µ–≥–æ —Ä–æ–ª—å –≤ –∂–∏–∑–Ω–µ–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞", section: 1},
            {id: 1.5, title: "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Å–æ–∑–Ω–∞–Ω–∏–µ. –°–∞–º–æ—Å–æ–∑–Ω–∞–Ω–∏–µ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ", section: 1},
            {id: 1.6, title: "–î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –µ—ë —Å—Ç—Ä—É–∫—Ç—É—Ä–∞", section: 1},
            {id: 1.7, title: "–û–±—â–µ–Ω–∏–µ –∫–∞–∫ –≤–∏–¥ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", section: 1},
            {id: 1.8, title: "–ü–æ–∑–Ω–∞–Ω–∏–µ –º–∏—Ä–∞. –ß—É–≤—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏ —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–∑–Ω–∞–Ω–∏–µ", section: 1},
            {id: 1.9, title: "–ú—ã—à–ª–µ–Ω–∏–µ, –µ–≥–æ —Ñ–æ—Ä–º—ã –∏ –º–µ—Ç–æ–¥—ã", section: 1},
            {id: 1.10, title: "–ü–æ–Ω—è—Ç–∏–µ –∏—Å—Ç–∏–Ω—ã, –µ—ë –∫—Ä–∏—Ç–µ—Ä–∏–∏. –ê–±—Å–æ–ª—é—Ç–Ω–∞—è, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –∏—Å—Ç–∏–Ω–∞", section: 1},
            {id: 1.11, title: "–û–±—â–µ—Å—Ç–≤–æ –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞. –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è", section: 1},
            {id: 1.12, title: "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç–∏—Ç—É—Ç—ã", section: 1},
            {id: 1.13, title: "–ú–Ω–æ–≥–æ–æ–±—Ä–∞–∑–∏–µ –ø—É—Ç–µ–π –∏ —Ñ–æ—Ä–º –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è", section: 1},
            {id: 1.14, title: "–≠–≤–æ–ª—é—Ü–∏—è, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è. –†–µ—Ñ–æ—Ä–º–∞. –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å", section: 1},
            {id: 1.15, title: "–ì–ª–æ–±–∞–ª–∏–∑–∞—Ü–∏—è –∏ –µ—ë –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è", section: 1},
            {id: 1.16, title: "–î—É—Ö–æ–≤–Ω—ã–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞", section: 1},

            // –†–∞–∑–¥–µ–ª 2: –≠–∫–æ–Ω–æ–º–∏–∫–∞ (18 —Ç–µ–º)
            {id: 2.1, title: "–†–æ–ª—å —ç–∫–æ–Ω–æ–º–∏–∫–∏ –≤ –∂–∏–∑–Ω–∏ –æ–±—â–µ—Å—Ç–≤–∞", section: 2},
            {id: 2.2, title: "–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç–∏—Ç—É—Ç—ã –∏ –∏—Ö —Ä–æ–ª—å –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ –æ–±—â–µ—Å—Ç–≤–∞", section: 2},
            {id: 2.3, title: "–¢–∏–ø—ã —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤", section: 2},
            {id: 2.4, title: "–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –µ—ë —Å—É–±—ä–µ–∫—Ç—ã", section: 2},
            {id: 2.5, title: "–†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ª—é–¥–µ–π –≤ —ç–∫–æ–Ω–æ–º–∏–∫–µ", section: 2},
            {id: 2.6, title: "–†—ã–Ω–æ–∫. –†—ã–Ω–æ—á–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã: —Ü–µ–Ω–∞ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è", section: 2},
            {id: 2.7, title: "–¢–∏–ø—ã —Ä—ã–Ω–æ—á–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä. –°–æ–≤–µ—Ä—à–µ–Ω–Ω–∞—è –∏ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è", section: 2},
            {id: 2.8, title: "–†—ã–Ω–æ–∫ —Ç—Ä—É–¥–∞. –ó–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ –∏ —Å—Ç–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä—É–¥–∞", section: 2},
            {id: 2.9, title: "–ó–∞–Ω—è—Ç–æ—Å—Ç—å –∏ –±–µ–∑—Ä–∞–±–æ—Ç–∏—Ü–∞. –ü—Ä–∏—á–∏–Ω—ã –∏ –≤–∏–¥—ã –±–µ–∑—Ä–∞–±–æ—Ç–∏—Ü—ã", section: 2},
            {id: 2.10, title: "–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ (—Ñ–∏—Ä–º–∞) –≤ —ç–∫–æ–Ω–æ–º–∏–∫–µ. –¶–µ–ª–∏ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è", section: 2},
            {id: 2.11, title: "–°–ø–æ—Å–æ–±—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π", section: 2},
            {id: 2.12, title: "–ò–Ω—Å—Ç–∏—Ç—É—Ç –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –µ–≥–æ —Ä–æ–ª—å –≤ —ç–∫–æ–Ω–æ–º–∏–∫–µ", section: 2},
            {id: 2.13, title: "–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞–ª–æ–≥–æ –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞", section: 2},
            {id: 2.14, title: "–§–æ–Ω–¥–æ–≤—ã–π —Ä—ã–Ω–æ–∫", section: 2},
            {id: 2.15, title: "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä—ã–Ω–æ–∫, –≤–∏–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏. –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞", section: 2},
            {id: 2.16, title: "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É—Å–ª—É–≥–∏. –í–∫–ª–∞–¥—ã –∏ –∫—Ä–µ–¥–∏—Ç—ã", section: 2},
            {id: 2.17, title: "–ò–Ω—Ñ–ª—è—Ü–∏—è: –ø—Ä–∏—á–∏–Ω—ã, –≤–∏–¥—ã, —Å–æ—Ü–∏–∞–ª—å–Ω–æ-—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è", section: 2},
            {id: 2.18, title: "–ù–µ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞ —Ä—ã–Ω–æ—á–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ö–æ–∑—è–π—Å—Ç–≤–∞", section: 2},

            // –†–∞–∑–¥–µ–ª 3: –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ñ–µ—Ä–∞ (8 —Ç–µ–º)
            {id: 3.1, title: "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—â–Ω–æ—Å—Ç–∏, –≥—Ä—É–ø–ø—ã, –∏—Ö —Ç–∏–ø—ã", section: 3},
            {id: 3.2, title: "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –µ—ë –∫—Ä–∏—Ç–µ—Ä–∏–∏. –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ", section: 3},
            {id: 3.3, title: "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞", section: 3},
            {id: 3.4, title: "–≠—Ç–Ω–∏—á–µ—Å–∫–∏–µ –æ–±—â–Ω–æ—Å—Ç–∏. –≠—Ç–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è", section: 3},
            {id: 3.5, title: "–ú–æ–ª–æ–¥—ë–∂—å –∫–∞–∫ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞, –µ—ë —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏", section: 3},
            {id: 3.6, title: "–ü–æ–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥–∞ –≤ –æ–±—â–µ—Å—Ç–≤–µ. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∏ —Ä–æ–ª–∏", section: 3},
            {id: 3.7, title: "–°–µ–º—å—è –∏ –±—Ä–∞–∫. –§—É–Ω–∫—Ü–∏–∏ –∏ —Ç–∏–ø—ã —Å–µ–º—å–∏", section: 3},
            {id: 3.8, title: "–°–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ –µ—ë —ç—Ç–∞–ø—ã", section: 3},

            // –†–∞–∑–¥–µ–ª 4: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—Ñ–µ—Ä–∞ (12 —Ç–µ–º)
            {id: 4.1, title: "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –≤–ª–∞—Å—Ç—å –∏ —Å—É–±—ä–µ–∫—Ç—ã –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –æ–±—â–µ—Å—Ç–≤–µ", section: 4},
            {id: 4.2, title: "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—â–µ—Å—Ç–≤–∞, –µ—ë —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–∏", section: 4},
            {id: 4.3, title: "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç–∏—Ç—É—Ç –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã", section: 4},
            {id: 4.4, title: "–ü–æ–Ω—è—Ç–∏–µ —Ñ–æ—Ä–º—ã –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞. –§–æ—Ä–º—ã –ø—Ä–∞–≤–ª–µ–Ω–∏—è", section: 4},
            {id: 4.5, title: "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º. –î–µ–º–æ–∫—Ä–∞—Ç–∏—è –∏ –µ—ë —Ñ–æ—Ä–º—ã", section: 4},
            {id: 4.6, title: "–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ –æ–±—â–µ—Å—Ç–≤–æ", section: 4},
            {id: 4.7, title: "–§–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏", section: 4},
            {id: 4.8, title: "–°—É–±—ä–µ–∫—Ç—ã –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–ª–∞—Å—Ç–∏ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏", section: 4},
            {id: 4.9, title: "–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏", section: 4},
            {id: 4.10, title: "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –æ–±—â–µ—Å—Ç–≤–∞ –∏ –ª–∏—á–Ω–æ—Å—Ç–∏", section: 4},
            {id: 4.11, title: "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä—Ç–∏–∏ –∫–∞–∫ —Å—É–±—ä–µ–∫—Ç—ã –ø–æ–ª–∏—Ç–∏–∫–∏", section: 4},
            {id: 4.12, title: "–ò–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞. –¢–∏–ø—ã –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º", section: 4},

            // –†–∞–∑–¥–µ–ª 5: –ü—Ä–∞–≤–æ (12 —Ç–µ–º)
            {id: 5.1, title: "–ü—Ä–∞–≤–æ –∫–∞–∫ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç–∏—Ç—É—Ç. –ü–æ–Ω—è—Ç–∏–µ, –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∞–≤–∞", section: 5},
            {id: 5.2, title: "–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∞–≤–∞: –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–∞–≤–æ–≤–æ–π –∞–∫—Ç, –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä", section: 5},
            {id: 5.3, title: "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∞. –û—Ç—Ä–∞—Å–ª–∏ –ø—Ä–∞–≤–∞", section: 5},
            {id: 5.4, title: "–ü–æ–Ω—è—Ç–∏–µ –∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∞–≤–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π", section: 5},
            {id: 5.5, title: "–ü–æ–Ω—è—Ç–∏–µ –∏ –≤–∏–¥—ã —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏", section: 5},
            {id: 5.6, title: "–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏", section: 5},
            {id: 5.7, title: "–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏", section: 5},
            {id: 5.8, title: "–õ–∏—á–Ω—ã–µ, –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ, —Å–æ—Ü–∏–∞–ª—å–Ω–æ-—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∞", section: 5},
            {id: 5.9, title: "–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ –ø—Ä–∞–≤–æ. –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è", section: 5},
            {id: 5.10, title: "–°–µ–º–µ–π–Ω–æ–µ –ø—Ä–∞–≤–æ. –ü–æ—Ä—è–¥–æ–∫ –∏ —É—Å–ª–æ–≤–∏—è –∑–∞–∫–ª—é—á–µ–Ω–∏—è –±—Ä–∞–∫–∞", section: 5},
            {id: 5.11, title: "–¢—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ. –¢—Ä—É–¥–æ–≤—ã–µ –ø—Ä–∞–≤–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è", section: 5},
            {id: 5.12, title: "–ó–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏", section: 5}
        ];

        // –ú–µ—Å—è—Ü—ã —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞ (—Å —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ –º–∞–π)
        const months = [
            {name: "–°–µ–Ω—Ç—è–±—Ä—å", weeks: 4},
            {name: "–û–∫—Ç—è–±—Ä—å", weeks: 4},
            {name: "–ù–æ—è–±—Ä—å", weeks: 5},
            {name: "–î–µ–∫–∞–±—Ä—å", weeks: 4},
            {name: "–Ø–Ω–≤–∞—Ä—å", weeks: 4},
            {name: "–§–µ–≤—Ä–∞–ª—å", weeks: 4},
            {name: "–ú–∞—Ä—Ç", weeks: 5},
            {name: "–ê–ø—Ä–µ–ª—å", weeks: 4},
            {name: "–ú–∞–π", weeks: 4}
        ];

        const totalWeeks = months.reduce((sum, month) => sum + month.weeks, 0);
        let currentMonthIndex = 0;
        let currentSectionFilter = 'all';
        const today = new Date();
        const startDate = new Date(2024, 8, 1); // 1 —Å–µ–Ω—Ç—è–±—Ä—è 2024

        // –•—Ä–∞–Ω–∏–ª–∏—â–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –Ω–µ–¥–µ–ª—å
        let completedWeeks = JSON.parse(localStorage.getItem('completedWeeks') || '[]');

        // –°–æ–∑–¥–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–µ–¥–µ–ª—å
        function createCalendar() {
            const calendar = document.getElementById('calendar');
            const currentMonthEl = document.getElementById('current-month');
            const monthStatsEl = document.getElementById('month-stats');

            // –û—á–∏—â–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
            calendar.innerHTML = '';

            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            const currentMonth = months[currentMonthIndex];
            currentMonthEl.textContent = currentMonth.name;

            // –°–æ–∑–¥–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
            const weekDays = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
            weekDays.forEach(day => {
                const dayEl = document.createElement('div');
                dayEl.className = 'week-header';
                dayEl.textContent = day;
                calendar.appendChild(dayEl);
            });

            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –Ω–µ–¥–µ–ª—é –¥–ª—è –º–µ—Å—è—Ü–∞
            let startWeek = 1;
            for (let i = 0; i < currentMonthIndex; i++) {
                startWeek += months[i].weeks;
            }

            // –°–æ–∑–¥–∞–µ–º –¥–Ω–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
            let completedInMonth = 0;
            let totalDaysInMonth = currentMonth.weeks * 7;

            for (let week = 0; week < currentMonth.weeks; week++) {
                const globalWeekIndex = startWeek + week;

                for (let dayOfWeek = 0; dayOfWeek < 7; dayOfWeek++) {
                    const dayEl = document.createElement('div');
                    const dayNumber = week * 7 + dayOfWeek + 1;

                    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–Ω–∏ (–¥–ª—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
                    if (dayNumber > totalDaysInMonth) {
                        dayEl.style.visibility = 'hidden';
                        calendar.appendChild(dayEl);
                        continue;
                    }

                    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–º—É –¥–ª—è —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏ (–∫–∞–∂–¥–æ–π –Ω–µ–¥–µ–ª–µ - –Ω–æ–≤–∞—è —Ç–µ–º–∞)
                    const topicIndex = (globalWeekIndex - 1) % topics.length;
                    const topic = topics[topicIndex];

                    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª—É
                    if (currentSectionFilter !== 'all' && topic.section.toString() !== currentSectionFilter) {
                        dayEl.style.display = 'none';
                    }

                    dayEl.className = 'day';
                    dayEl.dataset.week = globalWeekIndex;
                    dayEl.dataset.section = topic.section;

                    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–∞—Ç—É
                    const daysFromStart = (globalWeekIndex - 1) * 7 + dayOfWeek;
                    const currentDate = new Date(startDate);
                    currentDate.setDate(startDate.getDate() + daysFromStart);

                    const dateNumber = currentDate.getDate();
                    const isToday = currentDate.toDateString() === today.toDateString();

                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –¥–Ω—è
                    let taskType = '';
                    let taskLabel = '';
                    let taskEmoji = '';

                    switch (dayOfWeek) {
                        case 0: case 2: case 4: // –ü–Ω, –°—Ä, –ü—Ç
                            taskType = 'theory';
                            taskLabel = '–¢–µ–æ—Ä–∏—è';
                            taskEmoji = 'üìö';
                            break;
                        case 1: case 3: case 5: // –í—Ç, –ß—Ç, –°–±
                            taskType = 'test';
                            taskLabel = '–¢–µ—Å—Ç';
                            taskEmoji = 'üìù';
                            break;
                        case 6: // –í—Å
                            taskType = 'practice';
                            taskLabel = '–ü—Ä–∞–∫—Ç–∏–∫–∞';
                            taskEmoji = '‚úçÔ∏è';
                            break;
                    }

                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ª–∏ –Ω–µ–¥–µ–ª—è
                    const isCompleted = completedWeeks.includes(globalWeekIndex);
                    if (isCompleted) {
                        dayEl.classList.add('completed');
                        if (dayOfWeek === 0) completedInMonth++; // –°—á–∏—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º
                    }

                    if (isToday) {
                        dayEl.classList.add('today');
                    }

                    // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é —Ç–µ–º—ã (–ø–µ—Ä–≤—ã–µ 3-4 —Å–ª–æ–≤–∞)
                    const topicWords = topic.title.split(' ');
                    const topicPreview = topicWords.slice(0, 4).join(' ') + (topicWords.length > 4 ? '...' : '');

                    dayEl.innerHTML = `
                        <div class="day-number">${dateNumber}</div>
                        <div class="day-content">
                            <div class="week-number">–ù–µ–¥–µ–ª—è ${globalWeekIndex}</div>
                            <span class="section-tag section-${topic.section}">
                                ${topic.section === 1 ? '–ß–µ–ª–æ–≤–µ–∫' :
                                  topic.section === 2 ? '–≠–∫–æ–Ω–æ–º–∏–∫–∞' :
                                  topic.section === 3 ? '–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ' :
                                  topic.section === 4 ? '–ü–æ–ª–∏—Ç–∏–∫–∞' : '–ü—Ä–∞–≤–æ'}
                            </span>
                            <div class="task-type ${taskType}">${taskEmoji} ${taskLabel}</div>
                            <div class="topic-preview" title="${topic.title}">${topicPreview}</div>
                        </div>
                    `;

                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
                    dayEl.addEventListener('click', () => openWeek(globalWeekIndex, topic));

                    calendar.appendChild(dayEl);
                }
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –º–µ—Å—è—Ü–∞
            const completionRate = Math.round((completedInMonth / currentMonth.weeks) * 100);
            monthStatsEl.innerHTML = `
                <div class="month-stat">–ù–µ–¥–µ–ª—å –≤ –º–µ—Å—è—Ü–µ: ${currentMonth.weeks}</div>
                <div class="month-stat">–í—ã–ø–æ–ª–Ω–µ–Ω–æ: ${completedInMonth}</div>
                <div class="month-stat" style="color: ${completionRate >= 80 ? '#28a745' : completionRate >= 50 ? '#ffc107' : '#dc3545'};">
                    –ü—Ä–æ–≥—Ä–µ—Å—Å: ${completionRate}%
                </div>
            `;

            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateProgress();
        }

        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–¥–µ–ª–µ
        function openWeek(weekNumber, topic) {
            const modal = document.getElementById('week-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');

            const topicIndex = topics.findIndex(t => t.id === topic.id);
            const nextTopic = topics[(topicIndex + 1) % topics.length];

            modalTitle.textContent = `–ù–µ–¥–µ–ª—è ${weekNumber}: ${topic.title}`;

            // –†–µ—Å—É—Ä—Å—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
            const sectionResources = {
                1: [
                    {title: "üìò –ë–æ–≥–æ–ª—é–±–æ–≤ –õ.–ù. '–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ'", link: "https://obrazovaka.ru/obschestvoznanie"},
                    {title: "üé¨ –í–∏–¥–µ–æ—É—Ä–æ–∫–∏ –ø–æ —á–µ–ª–æ–≤–µ–∫—É –∏ –æ–±—â–µ—Å—Ç–≤—É", link: "https://foxford.ru/wiki/obschestvoznanie"},
                    {title: "üìä –°—Ö–µ–º—ã –∏ —Ç–∞–±–ª–∏—Ü—ã –ø–æ —Ä–∞–∑–¥–µ–ª—É", link: "https://soc-ege.sdamgia.ru"}
                ],
                2: [
                    {title: "üí∞ –£—á–µ–±–Ω–∏–∫ –ø–æ —ç–∫–æ–Ω–æ–º–∏–∫–µ", link: "https://interneturok.ru/lesson/economy"},
                    {title: "üìà –ó–∞–¥–∞—á–∏ –ø–æ —ç–∫–æ–Ω–æ–º–∏–∫–µ", link: "https://ege.sdamgia.ru"},
                    {title: "üè¶ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –†–§", link: "https://cbr.ru"}
                ],
                3: [
                    {title: "üë• –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è", link: "https://sociology.about.com"},
                    {title: "üë®‚Äçüë©‚Äçüëß –°–µ–º–µ–π–Ω–æ–µ –ø—Ä–∞–≤–æ", link: "https://www.garant.ru"},
                    {title: "üéì –ú–æ–ª–æ–¥—ë–∂–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞", link: "https://fadm.gov.ru"}
                ],
                4: [
                    {title: "üèõÔ∏è –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –†–§", link: "https://constitution.kremlin.ru"},
                    {title: "üó≥Ô∏è –ò–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞", link: "https://cikrf.ru"},
                    {title: "üì∞ –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä—Ç–∏–∏", link: "https://minjust.gov.ru"}
                ],
                5: [
                    {title: "‚öñÔ∏è –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è –†–§", link: "https://constitution.kremlin.ru"},
                    {title: "üìã –ö–æ–¥–µ–∫—Å—ã –†–§", link: "https://www.consultant.ru"},
                    {title: "üëÆ –ü—Ä–∞–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞", link: "https://ombudsmanrf.org"}
                ]
            };

            modalBody.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                        <span class="section-tag section-${topic.section}" style="font-size: 1rem;">
                            ${topic.section === 1 ? '–ß–µ–ª–æ–≤–µ–∫ –∏ –æ–±—â–µ—Å—Ç–≤–æ' :
                              topic.section === 2 ? '–≠–∫–æ–Ω–æ–º–∏–∫–∞' :
                              topic.section === 3 ? '–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ñ–µ—Ä–∞' :
                              topic.section === 4 ? '–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—Ñ–µ—Ä–∞' : '–ü—Ä–∞–≤–æ'}
                        </span>
                        <span style="color: #666; font-size: 0.9rem;">–ù–µ–¥–µ–ª—è ${weekNumber} –∏–∑ ${totalWeeks}</span>
                    </div>

                    <h3 style="color: #1e3c72; margin-bottom: 15px;">üéØ –ü–ª–∞–Ω –Ω–µ–¥–µ–ª–∏</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px;">
                        <div style="background: #e3f2fd; padding: 15px; border-radius: 10px;">
                            <h4 style="color: #1565c0; margin-bottom: 8px;">üìö –¢–µ–æ—Ä–∏—è (3 –¥–Ω—è)</h4>
                            <ul style="padding-left: 20px; font-size: 0.9rem;">
                                <li>–ò–∑—É—á–∏—Ç—å —Ç–µ–æ—Ä–∏—é</li>
                                <li>–°–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Å–ø–µ–∫—Ç</li>
                                <li>–í—ã—É—á–∏—Ç—å —Ç–µ—Ä–º–∏–Ω—ã</li>
                            </ul>
                        </div>

                        <div style="background: #f3e5f5; padding: 15px; border-radius: 10px;">
                            <h4 style="color: #7b1fa2; margin-bottom: 8px;">üìù –¢–µ—Å—Ç—ã (3 –¥–Ω—è)</h4>
                            <ul style="padding-left: 20px; font-size: 0.9rem;">
                                <li>–ß–∞—Å—Ç—å 1 –ï–ì–≠</li>
                                <li>–ß–∞—Å—Ç—å 2 –ï–ì–≠</li>
                                <li>–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫</li>
                            </ul>
                        </div>

                        <div style="background: #e8f5e9; padding: 15px; border-radius: 10px;">
                            <h4 style="color: #2e7d32; margin-bottom: 8px;">‚úçÔ∏è –ü—Ä–∞–∫—Ç–∏–∫–∞ (1 –¥–µ–Ω—å)</h4>
                            <ul style="padding-left: 20px; font-size: 0.9rem;">
                                <li>–ú–∏–Ω–∏-—Å–æ—á–∏–Ω–µ–Ω–∏–µ</li>
                                <li>–†–∞–∑–±–æ—Ä –∑–∞–¥–∞–Ω–∏–π</li>
                                <li>–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div style="margin: 25px 0;">
                    <h3 style="color: #1e3c72; margin-bottom: 15px;">üìñ –†–µ—Å—É—Ä—Å—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</h3>
                    <div class="resources">
                        ${sectionResources[topic.section].map(resource => `
                            <div class="resource-card">
                                <div class="resource-title">
                                    <span>${resource.title}</span>
                                </div>
                                <p style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">–û—Ç–∫—Ä—ã—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª –ø–æ —Ç–µ–º–µ</p>
                                <a href="${resource.link}" target="_blank"
                                   style="color: #1e3c72; text-decoration: none; font-weight: bold; font-size: 0.9rem; display: inline-block; padding: 8px 15px; background: #f0f7ff; border-radius: 6px; border: 1px solid #d1e3ff;">
                                    –û—Ç–∫—Ä—ã—Ç—å —Ä–µ—Å—É—Ä—Å ‚Üí
                                </a>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-top: 25px;">
                    <h4 style="color: #856404; margin-bottom: 10px;">üìå –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ</h4>
                    <p>–°–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞: <strong>${nextTopic.title}</strong></p>
                    <p style="font-size: 0.9rem; margin-top: 8px; color: #856404;">
                        –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –Ω–∞—á–∞—Ç—å –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∑–∞—Ä–∞–Ω–µ–µ.
                    </p>
                </div>

                <div style="margin-top: 30px; text-align: center;">
                    <button id="complete-week"
                            style="background: ${completedWeeks.includes(weekNumber) ? '#28a745' : '#1e3c72'};
                                   color: white; border: none; padding: 12px 35px; border-radius: 8px;
                                   font-size: 1rem; font-weight: bold; cursor: pointer; transition: all 0.3s;">
                        ${completedWeeks.includes(weekNumber) ? '‚úÖ –ù–µ–¥–µ–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞' : '‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é'}
                    </button>
                    <p style="color: #666; font-size: 0.9rem; margin-top: 10px;">
                        ${completedWeeks.includes(weekNumber) ?
                          '–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –≠—Ç–∞ –Ω–µ–¥–µ–ª—è —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.' :
                          '–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π –Ω–∞–∂–º–∏—Ç–µ —ç—Ç—É –∫–Ω–æ–ø–∫—É'}
                    </p>
                </div>
            `;

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            const completeBtn = document.getElementById('complete-week');
            if (completeBtn && !completedWeeks.includes(weekNumber)) {
                completeBtn.addEventListener('click', () => {
                    completedWeeks.push(weekNumber);
                    localStorage.setItem('completedWeeks', JSON.stringify(completedWeeks));
                    alert(`–ù–µ–¥–µ–ª—è ${weekNumber} –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è! üéâ\n–ü—Ä–æ–≥—Ä–µ—Å—Å: ${Math.round((completedWeeks.length / totalWeeks) * 100)}%`);
                    modal.style.display = 'none';
                    createCalendar(); // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
                });
            }

            modal.style.display = 'flex';
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
        function updateProgress() {
            const progress = (completedWeeks.length / totalWeeks) * 100;
            const progressBar = document.getElementById('progress');
            progressBar.style.width = `${progress}%`;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            createCalendar();

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –º–µ—Å—è—Ü–µ–≤
            document.getElementById('prev-month').addEventListener('click', () => {
                currentMonthIndex = (currentMonthIndex - 1 + months.length) % months.length;
                createCalendar();
            });

            document.getElementById('next-month').addEventListener('click', () => {
                currentMonthIndex = (currentMonthIndex + 1) % months.length;
                createCalendar();
            });

            // –§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
            document.getElementById('section-filter').addEventListener('change', (e) => {
                currentSectionFilter = e.target.value;
                createCalendar();
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            document.getElementById('close-modal').addEventListener('click', () => {
                document.getElementById('week-modal').style.display = 'none';
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–∫–Ω–∞
            document.getElementById('week-modal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('week-modal')) {
                    document.getElementById('week-modal').style.display = 'none';
                }
            });

            // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    document.getElementById('week-modal').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>